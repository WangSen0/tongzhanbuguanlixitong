<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ssm.mapper.PersonMapper">
    <resultMap id="personResult" type="ssm.entity.Person">
        <id property="personId" column="person_id"/>
        <result property="name" column="name"/>
        <result property="sex" column="sex"/>
        <result property="birthday" column="birthday"/>
        <result property="nationality" column="nationality"/>
        <result property="placeOfBirth" column="place_of_birth"/>
        <result property="nation" column="nation"/>
        <result property="maritalStatus" column="marital_status"/>
        <result property="country" column="country"/>
        <result property="gatq" column="gatq"/>
        <result property="politicalStatus" column="political_status"/>

        <result property="politicalTime" column="political_time"/>
        <result property="secondPoliticalStatus" column="second_political_status"/>
        <result property="secondTime" column="scond_time"/>
        <result property="enterschoolTime" column="enterschool_time"/>
        <result property="graduationSchool" column="graduation_school"/>
        <result property="highestEducation" column="highest_education"/>
        <result property="highestDegree" column="highest_degree"/>
        <result property="professional" column="professional"/>
        <result property="fullTimeEducation" column="full_time_education"/>
        <result property="fullTimeEducationSchool" column="full_time_education_school"/>

        <result property="fullTimeEducationProfessional" column="full_time_education_professional"/>
        <result property="partTimeEducation" column="part_time_education"/>
        <result property="partTimeEducationSchool" column="part_time_education_school"/>
        <result property="partTimeEducationProfessional" column="part_time_education_professional"/>
        <result property="workScience" column="work_science"/>
        <result property="researchArea" column="research_area"/>
        <result property="residencePermitAbroadStatus" column="residence_permit_abroad_status"/>
        <result property="residencePermitAbroadTime" column="residence_permit_abroad_time"/>
        <result property="startworkTime" column="startwork_time"/>
        <result property="staffStatus" column="staff_status"/>

        <result property="currentStatus" column="current_status"/>
        <result property="currentStatusTime" column="current_status_time"/>
        <result property="healthStatus" column="health_status"/>
        <result property="academyLocation" column="academy_location"/>
        <result property="departmentLocation" column="department_location"/>
        <result property="positionLevel" column="position_level"/>
        <result property="employPositionTime" column="employ_position_time"/>
        <result property="employPosition" column="employ_position"/>
        <result property="stationLevel" column="station_level"/>
        <result property="stationLevelName" column="station_level_name"/>

        <result property="stationLevelTime" column="station_level_time"/>
        <result property="politicalPosition" column="political_position"/>
        <result property="politicalPositionTime" column="political_position_time"/>
        <result property="staffLevel" column="staff_level"/>
        <result property="staffLevelTime" column="staff_level_time"/>
        <result property="speciality" column="speciality"/>
        <result property="workPhone" column="work_phone"/>
        <result property="familyPhone" column="family_phone"/>
        <result property="phone" column="phone"/>
        <result property="email" column="email"/>

        <result property="contactAddress" column="contact_address"/>
        <result property="zipcode" column="zipcode"/>
        <result property="fax" column="fax"/>
        <result property="idcard" column="idcard"/>
        <result property="outparttraining" column="outparttraining"/>

        <collection property="bookList" column="person_id"   ofType="ssm.entity.Book" select="queryBookByPersonId"/>
        <collection property="achievementList" column="person_id" ofType="ssm.entity.Achievement" select="queryAchievementByPersonId"/>
        <collection property="deputypeopleList" column="person_id" ofType="ssm.entity.Deputypeople" select="queryDeputypeopleByPersonId"/>
        <collection property="familyList" column="person_id" ofType="ssm.entity.Family" select="queryFamilyByPersonId"/>
        <collection property="paperList" column="person_id" ofType="ssm.entity.Paper" select="queryPaperByPersonId"/>

        <collection property="parttimejobList" column="person_id" ofType="ssm.entity.Parttimejob" select="queryParttimejobByPersonId"/>
        <collection property="patentList" column="person_id" ofType="ssm.entity.Patent" select="queryPatentByPersonId"/>
        <collection property="phenomList" column="person_id" ofType="ssm.entity.Phenom" select="queryPhenomByPersonId"/>
        <collection property="politicalconsultList" column="person_id" ofType="ssm.entity.Politicalconsult" select="queryPoliticalconsultByPersonId"/>
        <collection property="politicalpartList" column="person_id" ofType="ssm.entity.Politicalpart" select="queryPoliticalpartByPersonId"/>

        <collection property="politicalperformenceList" column="person_id" ofType="ssm.entity.Politicalperformence" select="queryPoliticalperformenceByPersonId"/>
        <collection property="projectList" column="person_id" ofType="ssm.entity.Project" select="queryProjectByPersonId"/>
        <collection property="reportList" column="person_id" ofType="ssm.entity.Report" select="queryReportByPersonId"/>
        <collection property="resumeList" column="person_id" ofType="ssm.entity.Resume" select="queryResumeByPersonId"/>
        <collection property="rewardList" column="person_id" ofType="ssm.entity.Reward" select="queryRewardByPersonId"/>

        <collection property="studyabroadList" column="person_id" ofType="ssm.entity.Studyabroad" select="queryStudyabroadByPersonId"/>
        <collection property="trainingList" column="person_id" ofType="ssm.entity.Training" select="queryTrainingByPersonId"/>
        <collection property="unitedpartList" column="person_id" ofType="ssm.entity.Unitedpart" select="queryUnitedpartByPersonId"/>
        <collection property="worksList" column="person_id" ofType="ssm.entity.Works" select="queryWorksByPersonId"/>
    </resultMap>
    <resultMap id="bookResult" type="ssm.entity.Book">
        <id property="id" column="id"/>
        <result property="bookId" column="book_id"/>
        <result property="personId" column="person_id"/>
        <result property="bookTitle" column="book_title"/>
        <result property="bookPublish" column="book_publish"/>
    </resultMap>
    <resultMap id="achievementResult" type="ssm.entity.Achievement">
        <id property="achievementId" column="achievement_id"/>
        <result property="personId" column="person_id"/>
        <result property="achievementContent" column="achievement_content"/>
    </resultMap>
    <resultMap id="deputypeopleResult" type="ssm.entity.Deputypeople">
        <id property="deputypeopleId" column="deputypeople_id"/>
        <result property="personId" column="person_id"/>
        <result property="deputypeopleCountry" column="deputypeople_country"/>
        <result property="deputypeopleProvince" column="deputypeople_province"/>
        <result property="deputypeopleCity" column="deputypeople_city"/>
        <result property="deputypeopleCounty" column="deputypeople_county"/>
        <result property="deputypeopleTimes" column="deputypeople_times"/>
        <result property="deputypeopleStartTime" column="deputypeople_start_time"/>
        <result property="deputypeopleEndTime" column="deputypeople_end_time"/>
    </resultMap>
    <resultMap id="familyResult" type="ssm.entity.Family">
        <id property="familyId" column="family_id"/>
        <result property="personId" column="person_id"/>
        <result property="familyRelation" column="family_relation"/>
        <result property="familyName" column="family_name"/>
        <result property="familyBirthday" column="family_birthday"/>
        <result property="familyPoliticalStatus" column="family_political_status"/>
        <result property="familyCompany" column="family_company"/>
        <result property="familyPosition" column="family_position"/>
    </resultMap>
    <resultMap id="paperResult" type="ssm.entity.Paper">
        <id property="id" column="id"/>
        <result property="paperId" column="paper_id"/>
        <result property="personId" column="person_id"/>
        <result property="paperTitle" column="paper_title"/>
        <result property="paperPublications" column="paper_publications"/>
        <result property="paperLevel" column="paper_level"/>
    </resultMap>
    <resultMap id="parttimejobResult" type="ssm.entity.Parttimejob">
        <id property="parttimejobId" column="parttimejob_id"/>
        <result property="personId" column="person_id"/>
        <result property="parttimejobContent" column="parttimejob_content"/>
    </resultMap>
    <resultMap id="patentResult" type="ssm.entity.Patent">
        <id property="id" column="id"/>
        <result property="patentId" column="patent_id"/>
        <result property="personId" column="person_id"/>
        <result property="patentTitle" column="patent_title"/>
        <result property="patentType" column="patent_type"/>
        <result property="patentAuthor" column="patent_author"/>
    </resultMap>
    <resultMap id="phenomResult" type="ssm.entity.Phenom">
        <id property="phenomId" column="phenom_id"/>
        <result property="personId" column="person_id"/>
        <result property="phenomTitle" column="phenom_title"/>
        <result property="phenomStartTime" column="phenom_start_time"/>
        <result property="phenomEndTime" column="phenom_end_time"/>
    </resultMap>
    <resultMap id="politicalconsultResult" type="ssm.entity.Politicalconsult">
        <id property="politicalconsultId" column="politicalconsult_id"/>
        <result property="personId" column="person_id"/>
        <result property="politicalconsultCountry" column="politicalconsult_country"/>
        <result property="politicalconsultProvince" column="politicalconsult_province"/>
        <result property="politicalconsultCity" column="politicalconsult_city"/>
        <result property="politicalconsultCounty" column="politicalconsult_county"/>
        <result property="politicalconsultTimes" column="politicalconsult_times"/>
        <result property="politicalconsultStartTime" column="politicalconsult_start_time"/>
        <result property="politicalconsultEndTime" column="politicalconsult_end_time"/>
    </resultMap>
    <resultMap id="politicalpartResult" type="ssm.entity.Politicalpart">
        <id property="politicalpartId" column="politicalpart_id"/>
        <result property="personId" column="person_id"/>
        <result property="politicalpartCountry" column="politicalpart_country"/>
        <result property="politicalpartProvince" column="politicalpart_province"/>
        <result property="politicalpartCity" column="politicalpart_city"/>
        <result property="politicalpartCounty" column="politicalpart_county"/>
        <result property="politicalpartSchool" column="politicalpart_school"/>
        <result property="politicalpartTimes" column="politicalpart_times"/>
        <result property="politicalpartPosition" column="politicalpart_position"/>
        <result property="politicalpartStartTime" column="politicalpart_start_time"/>
        <result property="politicalpartEndTime" column="politicalpart_end_time"/>
    </resultMap>
    <resultMap id="politicalperformenceResult" type="ssm.entity.Politicalperformence">
        <id property="politicalperformenceId" column="politicalperformence_id"/>
        <result property="personId" column="person_id"/>
        <result property="politicalperformenceContent" column="politicalperformence_content"/>
    </resultMap>
    <resultMap id="projectResult" type="ssm.entity.Project">
        <id property="id" column="id"/>
        <result property="projectId" column="project_id"/>
        <result property="personId" column="person_id"/>
        <result property="projectTitle" column="project_title"/>
        <result property="projectLevel" column="project_level"/>
        <result property="projectOutlay" column="project_outlay"/>
    </resultMap>
    <resultMap id="reportResult" type="ssm.entity.Report">
        <id property="id" column="id"/>
        <result property="reportId" column="report_id"/>
        <result property="personId" column="person_id"/>
        <result property="reportTitle" column="report_title"/>
        <result property="reportBelong" column="report_belong"/>
    </resultMap>
    <resultMap id="resumeResult" type="ssm.entity.Resume">
        <id property="resumeId" column="resume_id"/>
        <result property="personId" column="person_id"/>
        <result property="resumeStartTime" column="resume_start_time"/>
        <result property="resumeEndTime" column="resume_end_time"/>
        <result property="resumeContent" column="resume_content"/>
    </resultMap>
    <resultMap id="rewardResult" type="ssm.entity.Reward">
        <id property="id" column="id"/>
        <result property="rewardId" column="reward_id"/>
        <result property="personId" column="person_id"/>
        <result property="rewardName" column="reward_name"/>
        <result property="rewardAchievement" column="reward_achievement"/>
    </resultMap>
    <resultMap id="studyabroadResult" type="ssm.entity.Studyabroad">
        <id property="studyabroadId" column="studyabroad_id"/>
        <result property="personId" column="person_id"/>
        <result property="studyabroadStatus" column="studyabroad_status"/>
        <result property="studyabroadType" column="studyabroad_type"/>
        <result property="studyabroadPurpose" column="studyabroad_purpose"/>
        <result property="studyabroadCountry" column="studyabroad_country"/>

        <result property="studyabroadSchool" column="studyabroad_school"/>
        <result property="studyabroadGoabroadIdentity" column="studyabroad_goabroad_identity"/>
        <result property="studyabroadStudyabroadIdentity" column="studyabroad_studyabroad_identity"/>
        <result property="studyabroadLimit" column="studyabroad_limit"/>
        <result property="studyabroadLimitMonth" column="studyabroad_limit_month"/>

        <result property="studyabroadStartTime" column="studyabroad_start_time"/>
        <result property="studyabroadEndTime" column="studyabroad_end_time"/>
        <result property="studyabroadRemark" column="studyabroad_remark"/>
    </resultMap>
    <resultMap id="trainingResult" type="ssm.entity.Training">
        <id property="trainingId" column="training_id"/>
        <result property="personId" column="person_id"/>
        <result property="trainingPlace" column="training_place"/>
        <result property="trainingCompany" column="training_company"/>
        <result property="trainingContent" column="training_content"/>
        <result property="trainingStartTime" column="training_start_time"/>
        <result property="trainingEndTime" column="training_end_time"/>
    </resultMap>
    <resultMap id="unitedpartResult" type="ssm.entity.Unitedpart">
        <id property="unitedpartId" column="unitedpart_id"/>
        <result property="personId" column="person_id"/>
        <result property="unitedpartCountry" column="unitedpart_country"/>
        <result property="unitedpartProvince" column="unitedpart_province"/>
        <result property="unitedpartCity" column="unitedpart_city"/>
        <result property="unitedpartCounty" column="unitedpart_county"/>

        <result property="unitedpartSchool" column="unitedpart_school"/>
        <result property="unitedpartTimes" column="unitedpart_times"/>
        <result property="unitedpartPosition" column="unitedpart_position"/>
        <result property="unitedpartStartTime" column="unitedpart_start_time"/>
        <result property="unitedpartEndTime" column="unitedpart_end_time"/>
    </resultMap>
    <resultMap id="worksResult" type="ssm.entity.Works">
        <id property="id" column="id"/>
        <result property="worksId" column="works_id"/>
        <result property="personId" column="person_id"/>
        <result property="worksTitle" column="works_title"/>
        <result property="worksBelong" column="works_belong"/>
    </resultMap>
    <select id="queryBookByPersonId" parameterType="java.lang.String" resultMap="bookResult">
        SELECT * FROM t_book WHERE person_id=#{personId}
    </select>
    <select id="queryAchievementByPersonId" parameterType="java.lang.String" resultMap="achievementResult">
        SELECT * FROM t_achievement WHERE person_id=#{personId}
    </select>
    <select id="queryDeputypeopleByPersonId" parameterType="java.lang.String" resultMap="deputypeopleResult">
        SELECT * FROM t_deputypeople WHERE person_id=#{personId}
    </select>
    <select id="queryFamilyByPersonId" parameterType="java.lang.String" resultMap="familyResult">
        SELECT * FROM t_family WHERE person_id=#{personId}
    </select>
    <select id="queryPaperByPersonId" parameterType="java.lang.String" resultMap="paperResult">
        SELECT * FROM t_paper WHERE person_id=#{personId}
    </select>

    <select id="queryParttimejobByPersonId" parameterType="java.lang.String" resultMap="parttimejobResult">
        SELECT * FROM t_parttimejob WHERE person_id=#{personId}
    </select>
    <select id="queryPatentByPersonId" parameterType="java.lang.String" resultMap="patentResult">
        SELECT * FROM t_patent WHERE person_id=#{personId}
    </select>
    <select id="queryPhenomByPersonId" parameterType="java.lang.String" resultMap="phenomResult">
        SELECT * FROM t_phenom WHERE person_id=#{personId}
    </select>
    <select id="queryPoliticalconsultByPersonId" parameterType="java.lang.String" resultMap="politicalconsultResult">
        SELECT * FROM t_politicalconsult WHERE person_id=#{personId}
    </select>
    <select id="queryPoliticalpartByPersonId" parameterType="java.lang.String" resultMap="politicalpartResult">
        SELECT * FROM t_politicalpart WHERE person_id=#{personId}
    </select>

    <select id="queryPoliticalperformenceByPersonId" parameterType="java.lang.String" resultMap="politicalperformenceResult">
        SELECT * FROM t_politicalperformence WHERE person_id=#{personId}
    </select>
    <select id="queryProjectByPersonId" parameterType="java.lang.String" resultMap="projectResult">
        SELECT * FROM t_project WHERE person_id=#{personId}
    </select>
    <select id="queryReportByPersonId" parameterType="java.lang.String" resultMap="reportResult">
        SELECT * FROM t_report WHERE person_id=#{personId}
    </select>
    <select id="queryResumeByPersonId" parameterType="java.lang.String" resultMap="resumeResult">
        SELECT * FROM t_resume WHERE person_id=#{personId}
    </select>
    <select id="queryRewardByPersonId" parameterType="java.lang.String" resultMap="rewardResult">
        SELECT * FROM t_reward WHERE person_id=#{personId}
    </select>

    <select id="queryStudyabroadByPersonId" parameterType="java.lang.String" resultMap="studyabroadResult">
        SELECT * FROM t_studyabroad WHERE person_id=#{personId}
    </select>
    <select id="queryTrainingByPersonId" parameterType="java.lang.String" resultMap="trainingResult">
        SELECT * FROM t_training WHERE person_id=#{personId}
    </select>
    <select id="queryUnitedpartByPersonId" parameterType="java.lang.String" resultMap="unitedpartResult">
        SELECT * FROM t_unitedpart WHERE person_id=#{personId}
    </select>
    <select id="queryWorksByPersonId" parameterType="java.lang.String" resultMap="worksResult">
        SELECT * FROM t_works WHERE person_id=#{personId}
    </select>

    <select id="listAllPerson" resultMap="personResult">
        select * FROM t_person
    </select>
    <select id="queryByPersonId" parameterType="java.lang.String" resultMap="personResult">
        SELECT * FROM t_person WHERE  person_id=#{id}
    </select>
    <select id="queryByCondition" resultMap="personResult">
        select
        t_person.person_id,`name`, sex, birthday, nationality, place_of_birth, nation, marital_status, country, gatq, political_status, political_time, second_political_status, scond_time, enterschool_time, graduation_school, highest_education, highest_degree, professional, full_time_education, full_time_education_school, full_time_education_professional, part_time_education, part_time_education_school, part_time_education_professional, work_science, research_area, residence_permit_abroad_status, residence_permit_abroad_time, startwork_time, staff_status, current_status, current_status_time, health_status, academy_location, department_location, position_level, employ_position_time, employ_position, station_level, station_level_name, station_level_time, political_position, political_position_time, staff_level, staff_level_time, speciality, work_phone, family_phone, phone, email, contact_address, zipcode, fax, idcard,outparttraining
--         ,t_phenom.phenom_title
--         ,t_studyabroad.studyabroad_country,deputypeople_type,politicalconsult_type,politicalpart_type,unitedpart_type
        from t_person
        <include refid="condition"/>
        LIMIT #{offerset},#{rows}
    </select>
    <select id="queryCountByCondition" resultType="java.lang.Integer">
        select count(*)
        from t_person
        <include refid="condition"/>
        LIMIT #{offerset},#{rows}
    </select>
    <insert id="insertPerson" parameterType="ssm.entity.Person">
        insert into t_person (person_id,name, sex, birthday, nationality, place_of_birth, nation, marital_status, country, gatq, political_status, political_time, second_political_status, scond_time, enterschool_time, graduation_school, highest_education, highest_degree, professional, full_time_education, full_time_education_school, full_time_education_professional, part_time_education, part_time_education_school, part_time_education_professional, work_science, research_area, residence_permit_abroad_status, residence_permit_abroad_time, startwork_time, staff_status, current_status, current_status_time, health_status, academy_location, department_location, position_level, employ_position_time, employ_position, station_level, station_level_name, station_level_time, political_position, political_position_time, staff_level, staff_level_time, speciality, work_phone, family_phone, phone, email, contact_address, zipcode, fax, idcard,outparttraining)
        values (#{person.personId},#{person.name},#{person.sex},#{person.birthday},#{person.nationality},#{person.placeOfBirth},#{person.nation},#{person.maritalStatus},#{person.country},#{person.gatq},#{person.politicalStatus},
        #{person.politicalTime},#{person.secondPoliticalStatus},#{person.secondTime},#{person.enterschoolTime},#{person.graduationSchool},#{person.highestEducation},#{person.highestDegree},#{person.professional},#{person.fullTimeEducation},#{person.fullTimeEducationSchool},
        #{person.fullTimeEducationProfessional},#{person.partTimeEducation},#{person.partTimeEducationSchool},#{person.partTimeEducationProfessional},#{person.workScience},#{person.researchArea},#{person.residencePermitAbroadStatus},#{person.residencePermitAbroadTime},#{person.startworkTime},#{person.staffStatus},
        #{person.currentStatus},#{person.currentStatusTime},#{person.healthStatus},#{person.academyLocation},#{person.departmentLocation},#{person.positionLevel},#{person.employPositionTime},#{person.employPosition},#{person.stationLevel},#{person.stationLevelName},
        #{person.stationLevelTime},#{person.politicalPosition},#{person.politicalPositionTime},#{person.staffLevel},#{person.staffLevelTime},#{person.speciality},#{person.workPhone},#{person.familyPhone},#{person.phone},#{person.email},
        #{person.contactAddress},#{person.zipcode},#{person.fax},#{person.idcard},#{person.outparttraining});
    </insert>
    <delete id="deleteByPersonId" parameterType="java.lang.String">
        DELETE FROM t_person WHERE person_id=#{id}
    </delete>
    <update id="updatePerson" parameterType="ssm.entity.Person">
        UPDATE t_person SET name=#{person.name},sex=#{person.sex},birthday=#{person.birthday},nationality=#{person.nationality},place_of_birth=#{person.placeOfBirth},nation=#{person.nation},marital_status=#{person.maritalStatus},country=#{person.country},gatq=#{person.gatq},political_status=#{person.politicalStatus},
        political_time=#{person.politicalTime},second_political_status=#{person.secondPoliticalStatus},scond_time=#{person.secondTime},enterschool_time=#{person.enterschoolTime},graduation_school=#{person.graduationSchool},highest_education=#{person.highestEducation},highest_degree=#{person.highestDegree},professional=#{person.professional},full_time_education=#{person.fullTimeEducation},full_time_education_school=#{person.fullTimeEducationSchool},
        full_time_education_professional=#{person.fullTimeEducationProfessional},part_time_education=#{person.partTimeEducation},part_time_education_school=#{person.partTimeEducationSchool},part_time_education_professional=#{person.partTimeEducationProfessional},work_science=#{person.workScience},research_area=#{person.researchArea},residence_permit_abroad_status=#{person.residencePermitAbroadStatus},residence_permit_abroad_time=#{person.residencePermitAbroadTime},startwork_time=#{person.startworkTime},staff_status=#{person.staffStatus},
        current_status=#{person.currentStatus},current_status_time=#{person.currentStatusTime},health_status=#{person.healthStatus},academy_location=#{person.academyLocation},department_location=#{person.departmentLocation},position_level=#{person.positionLevel},employ_position_time=#{person.employPositionTime},employ_position=#{person.employPosition},station_level=#{person.stationLevel},station_level_name=#{person.stationLevelName},
        station_level_time=#{person.stationLevelTime},political_position=#{person.politicalPosition},political_position_time=#{person.politicalPositionTime},staff_level=#{person.staffLevel},staff_level_time=#{person.staffLevelTime},speciality=#{person.speciality},work_phone=#{person.workPhone},family_phone=#{person.familyPhone},phone=#{person.phone},email=#{person.email},
        contact_address=#{person.contactAddress},zipcode=#{person.zipcode},fax=#{person.fax},idcard=#{person.idcard},outparttraining=#{person.outparttraining}
        WHERE person_id=#{person.personId}
    </update>
    <select id="querySexByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT sex as name,count(sex) as 'value' FROM t_person <include refid="condition"/> AND sex!=''
         GROUP BY sex
    </select>
    <select id="queryBirthdayByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT birthday as name,count(birthday) as 'value' FROM t_person <include refid="condition"/> AND birthday!=''
        GROUP BY birthday
    </select>
    <select id="queryNationByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT nation as name,count(nation) as 'value' FROM t_person <include refid="condition"/> AND nation!=''
        GROUP BY nation
    </select>
    <select id="queryPoliticalStatusByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT political_status as name,count(political_status) as 'value' FROM t_person <include refid="condition"/> AND political_status!=''
        GROUP BY political_status
    </select>
    <select id="queryStaffStatusByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT staff_status as name,count(staff_status) as 'value' FROM t_person <include refid="condition"/> AND staff_status!=''
        GROUP BY staff_status
    </select>
    <select id="queryEmployPositionByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT employ_position as name,count(employ_position) as 'value' FROM t_person <include refid="condition"/> AND employ_position!=''
        GROUP BY employ_position
    </select>
    <select id="queryOutparttrainingByCondition" resultType="ssm.utils.Property" parameterType="ssm.entity.Condition">
        SELECT outparttraining as name,count(outparttraining) as 'value' FROM t_person <include refid="condition"/> AND outparttraining!=''
        GROUP BY outparttraining
    </select>


    <select id="queryCountry" resultType="java.lang.String">
        SELECT DISTINCT(country) FROM t_person WHERE country!=''
    </select>
    <select id="queryNation" resultType="java.lang.String">
        SELECT DISTINCT(nation) FROM t_person WHERE nation!=''
    </select>
    <select id="queryPoliticalStatus" resultType="java.lang.String">
        SELECT DISTINCT(political_status) FROM t_person WHERE political_status!=''
    </select>
    <select id="querySecondPoliticalStatus" resultType="java.lang.String">
        SELECT DISTINCT(second_political_status) FROM t_person WHERE second_political_status!=''
    </select>
    <select id="queryGraduationSchool" resultType="java.lang.String">
        SELECT DISTINCT(graduation_school) FROM t_person WHERE graduation_school!=''
    </select>
    <select id="queryHighestEducation" resultType="java.lang.String">
        SELECT DISTINCT(highest_education) FROM t_person WHERE highest_education!=''
    </select>
    <select id="queryHighestDegree" resultType="java.lang.String">
        SELECT DISTINCT(highest_degree) FROM t_person WHERE highest_degree!=''
    </select>
    <select id="queryAcademyLocation" resultType="java.lang.String">
        SELECT DISTINCT(academy_location) FROM t_person WHERE academy_location!=''
    </select>
    <select id="queryEmployPosition" resultType="java.lang.String">
        SELECT DISTINCT(employ_position) FROM t_person WHERE employ_position!=''
    </select>
    <select id="queryPoliticalPosition" resultType="java.lang.String">
        SELECT DISTINCT(political_position) FROM t_person WHERE political_position!=''
    </select>
    <select id="queryStationLevelName" resultType="java.lang.String">
        SELECT DISTINCT(station_level_name) FROM t_person WHERE station_level_name!=''
    </select>
    <select id="queryPersonId" resultType="java.lang.String">
        SELECT person_id FROM t_person
    </select>
    <select id="querySexAndCount" resultType="ssm.utils.ObjectCount">
        SELECT sex AS name, COUNT(sex) AS value FROM t_person WHERE sex!='' GROUP BY sex ORDER BY value DESC
    </select>
    <select id="queryNationAndCount" resultType="ssm.utils.ObjectCount">
        SELECT nation AS name, COUNT(nation) AS value FROM t_person WHERE nation!='' GROUP BY nation ORDER BY value DESC
    </select>
    <select id="queryPoliticalStatusAndCount" resultType="ssm.utils.ObjectCount">
        SELECT political_status AS name,COUNT(political_status) AS value FROM t_person WHERE political_status!='' GROUP BY political_status ORDER BY value DESC
    </select>

    <select id="queryZggmdgmwyhhy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='中国国民党革命委员会会员' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryZgmztmmy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='中国民主同盟盟员' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryZgmzjghhy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='中国民主建国会会员' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryZgmzcjhhy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='中国民主促进会会员' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryNgddy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='中国农工民主党' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryJsxssy" resultType="ssm.utils.ObjectCount">
        select current_status as name ,count(current_status) as value from t_person WHERE political_status='九三学社社员' and current_status!='' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryTailian" resultType="ssm.utils.ObjectCount">
        select current_status as name,count(current_status) as value  from t_person where gatq='台联' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryQiaolian" resultType="ssm.utils.ObjectCount">
        select current_status as name,count(current_status) as value  from t_person where gatq='侨联' and(current_status='在职' or current_status='退休') GROUP BY current_status
    </select>
    <select id="queryWdprs" resultType="ssm.utils.ObjectCount">
        select employ_position as name,count(employ_position) as value from t_person WHERE political_status='无党派民主人士' and employ_position!='' and (employ_position='教授' or employ_position='副教授') GROUP BY employ_position
    </select>
    <select id="queryStudyabroad" resultType="ssm.utils.ObjectCount">
        select employ_position as name,COUNT(employ_position) as value from t_person
        WHERE person_id in (select DISTINCT(person_id) from t_studyabroad where DATEDIFF(studyabroad_end_time,studyabroad_start_time)>365)
        and (employ_position='教授' or employ_position='副教授') GROUP BY employ_position
    </select>
    <select id="queryMinorityCount" resultType="java.lang.Integer">
        select count(*) from t_person where nation!='' and nation!='汉族'
    </select>

    <select id="zggcddy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国共产党党员" LIMIT #{offerset},#{rows}
    </select>
    <select id="zggcdybdy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国共产党预备党员" LIMIT #{offerset},#{rows}
    </select>
    <select id="gqty" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="共青团员" LIMIT #{offerset},#{rows}
    </select>
    <select id="zggmdgmwyhhy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国国民党革命委员会会员" LIMIT #{offerset},#{rows}
    </select>
    <select id="zgmztmmy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国民主同盟盟员" LIMIT #{offerset},#{rows}
    </select>

    <select id="zgmzjghhy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国民主建国会会员" LIMIT #{offerset},#{rows}
    </select>
    <select id="zgmzcjhhy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="中国民主促进会会员" LIMIT #{offerset},#{rows}
    </select>
    <select id="ngddy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="农工党党员" LIMIT #{offerset},#{rows}
    </select>
    <select id="zgggy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="致公党党员" LIMIT #{offerset},#{rows}
    </select>
    <select id="jsxssy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="九三学社社员" LIMIT #{offerset},#{rows}
    </select>

    <select id="tmmy" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="台盟盟员" LIMIT #{offerset},#{rows}
    </select>
    <select id="wdprs" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="无党派民主人士" LIMIT #{offerset},#{rows}
    </select>
    <select id="qunzong" resultMap="personResult">
        SELECT * FROM t_person WHERE political_status ="群众" LIMIT #{offerset},#{rows}
    </select>
    <select id="queryPoliticalStatusByPersonId" parameterType="java.lang.String" resultType="java.lang.String">
        SELECT political_status FROM t_person WHERE person_id=#{id}
    </select>
    <sql id="condition">
        <if test="condition.phenomTitle!=null and condition.phenomTitle!=''">
            INNER  JOIN t_phenom ON t_person.person_id=t_phenom.person_id AND phenom_title=#{condition.phenomTitle}
        </if>
        <if test="condition.studyabroadCountry!=null and condition.studyabroadCountry!=''">
            INNER JOIN t_studyabroad ON t_person.person_id=t_studyabroad.person_id AND t_studyabroad.studyabroad_country=#{condition.studyabroadCountry}
        </if>
        <if test="condition.deputypeopleType!=null and condition.deputypeopleType!=''">
            INNER JOIN v_deputypeople ON t_person.person_id=v_deputypeople.person_id AND deputypeople_type=#{condition.deputypeopleType}
        </if>
        <if test="condition.politicalconsultType!=null and condition.politicalconsultType!=''">
            INNER JOIN v_politicalconsult ON t_person.person_id=v_politicalconsult.person_id AND politicalconsult_type=#{condition.politicalconsultType}
        </if>
        <if test="condition.politicalpartType!=null and condition.politicalpartType!=''">
            INNER JOIN v_politicalpart ON t_person.person_id=v_politicalpart.person_id AND politicalpart_type=#{condition.politicalpartType}
        </if>
        <if test="condition.unitedpartType!=null and condition.unitedpartType!=''">
            INNER JOIN v_unitedpart ON t_person.person_id=v_unitedpart.person_id AND unitedpart_type=#{condition.unitedpartType}
        </if>
        <where>
            1=1
            <if test="condition.personId!=null and condition.personId!=''">AND t_person.person_id=#{condition.personId}</if>
            <if test="condition.name!=null and condition.name!=''">AND name=#{condition.name}</if>
            <if test="condition.sex!=null and condition.sex!=''">AND sex=#{condition.sex}</if>
            <if test="condition.birthdayStart!=null and condition.birthdayStart!=''">AND birthday &gt; #{condition.birthdayStart}</if>
            <if test="condition.birthdayEnd!=null and condition.birthdayEnd!=''">AND birthday &lt; #{condition.birthdayEnd}</if>
            <if test="condition.nation!=null and condition.nation!=''">AND nation=#{condition.nation}</if>
            <if test="condition.politicalStatus!=null and condition.politicalStatus!=''">AND political_status=#{condition.politicalStatus}</if>
            <if test="condition.secondPoliticalStatus!=null and condition.secondPoliticalStatus!=''">AND second_political_status=#{condition.secondPoliticalStatus}</if>
            <if test="condition.staffStatus!=null and condition.staffStatus!=''">AND staff_status=#{condition.staffStatus}</if>
            <if test="condition.academyLocation!=null and condition.academyLocation!=''">AND academy_location=#{condition.academyLocation}</if>
            <if test="condition.positionLevel!=null and condition.positionLevel!=''">AND position_level=#{condition.positionLevel}</if>
            <if test="condition.employPosition!=null and condition.employPosition!=''">AND employ_position=#{condition.employPosition}</if>
            <if test="condition.stationLevel!=null and condition.stationLevel!=''">AND station_level=#{condition.stationLevel}</if>
            <if test="condition.stationLevelName!=null and condition.stationLevelName!=''">AND station_level_name=#{condition.stationLevelName}</if>
            <if test="condition.outparttraining!=null and condition.outparttraining!=''">AND outparttraining=#{condition.outparttraining}</if>
        </where>
    </sql>
</mapper>